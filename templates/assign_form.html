{% extends "base.html" %}

{% block title %} Assignments {% endblock %}

{% block content %}
<form method="post" action="{{ url_for('assign_form') }}">
  <div class="form-group row">
    <label for="assign_name" class="col-sm-2 col-form-label">Assignment Name:</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="assign_name" id="assign_name">
    </div>
  </div>
  <div class="form-group row">
    <label for="est_time" class="col-sm-2 col-form-label">Estimated Time to Finish (hrs):</label>
    <div class="col-sm-10">
      <input type="number" class="form-control" name="est_time" id="est_time">
    </div>
  </div>
  <div class="form-group row">
    <label for="percentage" class="col-sm-2 col-form-label">Percentage of Grade for Assignment (1-100):</label>
    <div class="col-sm-10">
      <input type="number" class="form-control" name="percentage" id="percentage" min="1" max="100">
    </div>
  </div>
  <div class="form-group row">
    <label for="priority" class="col-sm-2 col-form-label">Personal Priority of Assignment (1-10):</label>
    <div class="col-sm-10">
      <input type="number" class="form-control" name="priority" id="priority" min="1" max="10">
    </div>
  </div>
  <div class="form-group row">
    <p>Due date<br> Day:</p>
    <div class="col-sm-10">
      <input type="radio" id="Monday" name="day" value="Monday">
      <label for="Monday">Monday</label><br>
      <input type="radio" id="Tuesday" name="day" value="Tuesday">
      <label for="Tuesday">Tuesday</label><br>
      <input type="radio" id="Wednesday" name="day" value="Wednesday">
      <label for="Wednesday">Wednesday</label><br>
      <input type="radio" id="Thursday" name="day" value="Thursday">
      <label for="Thursday">Thursday</label><br>
      <input type="radio" id="Friday" name="day" value="Friday">
      <label for="Friday">Friday</label><br>
      <input type="radio" id="Saturday" name="day" value="Saturday">
      <label for="Saturday">Saturday</label><br>
      <input type="radio" id="Sunday" name="day" value="Sunday">
      <label for="Sunday">Sunday</label><br><br>
      <label for="time">Time (Rounded down to nearest half-hour):</label>
      <input type="time" class="form-control" name="time" value="00:00"><br><br>
    </div>
  </div>
  <button type="submit" class="btn btn-primary">Add Assignment</button>
</form>

<p>Quit Adding Assignments:</p>
<a href="form_input" class="btn btn-primary" type="button">Return</a>

<!-- <script>

  //array to store assignment objects
  //TODO: return 'assignments' to backend or to the app.py
  let assignments = [];
  // example {name:'Assignment 1', worth: 20%, time: 3 hrs, notes: 'misc. notes'}
  const addAssignment = (ev)=>{
      ev.preventDefault();  //to stop the form submitting

      //assignment object
      let assignment = {
          name: document.getElementById('assign_name').value,
          worth: document.getElementById('percentage').value,
          time: document.getElementById('est_time').value,
          notes: document.getElementById('notes').value
      }
      assignments.push(assignment);
      document.forms[0].reset(); // to clear the form for the next entries
      //document.querySelector('form').reset();

      //for display purposes only
      console.warn('added' , {assignments} );
      let pre = document.querySelector('#msg pre');
      pre.textContent = '\n' + JSON.stringify(assignments, '\t', 2);

      //saving to localStorage
      //localStorage.setItem('MyAssignmentList', JSON.stringify(assignments) );
      // HOW TO GET THIS TO THE BACKEND
  }
  document.addEventListener('DOMContentLoaded', ()=>{
      document.getElementById('btn').addEventListener('click', addAssignment);
  });
</script> -->
{% endblock %}